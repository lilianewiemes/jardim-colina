webpackJsonp([1],{102:function(t,e,n){"use strict";function a(t){n(103)}var i=n(46),o=n(129),r=n(45),s=a,c=r(i.a,o.a,!1,s,null,null);e.a=c.exports},103:function(t,e){},105:function(t,e,n){"use strict";function a(t){n(106)}var i=n(47),o=n(128),r=n(45),s=a,c=r(i.a,o.a,!1,s,null,null);e.a=c.exports},106:function(t,e){},127:function(t,e){},128:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t.apto?t._e():n("b-card",{staticClass:"ml-2 mr-2"},[n("b-card-text",[t._v("\n      Se você deseja receber notificações na sua semana, adicione seu apartamento\n    ")]),t._v(" "),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent",modifiers:{"modal-prevent":!0}}]},[t._v("Adicionar")])],1),t._v(" "),n("vue-cal",{staticClass:"vuecal--green-theme mt-2",attrs:{time:!1,startWeekOnSunday:!0,"disable-views":["years","year","day"],locale:"pt-br",events:t.events,eventsOnMonthView:!0}}),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"modal-prevent",title:"Adicionar n° de apartamento"},on:{ok:t.handleOk,shown:t.clearName}},[n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-input",{attrs:{placeholder:"Entre com seu apartamento"},model:{value:t.apto,callback:function(e){t.apto=e},expression:"apto"}})],1)])],1)},i=[],o={render:a,staticRenderFns:i};e.a=o},129:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("main",[n("Calendar")],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("span",[t._v("Residencial Jardim da Colina")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",{staticClass:"mt-2"},[n("b",[t._v("Calendário de troca de lixo")])])}],o={render:a,staticRenderFns:i};e.a=o},258:function(t,e){},259:function(t,e){},46:function(t,e,n){"use strict";var a=n(105);e.a={name:"app",components:{Calendar:a.a}}},47:function(t,e,n){"use strict";var a=n(107),i=n.n(a),o=n(126),r=n.n(o),s=n(127);n.n(s);e.a={components:{VueCal:r.a},name:"Calendar",data:function(){return{events:[],apto:""}},created:function(){this.apto=localStorage.getItem("apto"),self.addEventListener("push",this.displayNotification),this.createNotificationSubscription()},methods:{getEvents:function(t){var e=this;i.a.get(t).then(function(t){e.events=t.data}).catch(function(t){return console.log(t)})},clearName:function(){this.apto=""},handleOk:function(t){t.preventDefault(),this.apto?(localStorage.setItem("apto",this.apto),Notification.requestPermission(),this.handleSubmit()):alert("Por favor, entre com seu apartamento")},handleSubmit:function(){var t=this;this.$nextTick(function(){t.$refs.modal.hide()})},displayNotification:function(){"granted"===Notification.permission&&navigator.serviceWorker.getRegistration().then(function(t){var e={body:"Boa noite, amanhã é o seu dia de trocar o lixo. Obrigado!",icon:"./static/img/icons/favicon-32x32.png"};t.showNotification("Jardim da Colina",e)})},createNotificationSubscription:function(){navigator.serviceWorker.ready.then(function(t){t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BAuTSW2A6oxQFnXdeLeYMoucLtN9NfQVSW742Z0kVX0i5KWrZKgld6aUjtJCNY0Qn4A6gcOwfZh3Z4JJup8CR8c"}).then(function(t){console.log("User is subscribed.",t),i.a.post("api/subscribe",t)}).catch(function(t){console.log("erro.",t)})})}}}},99:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(44),i=n(102),o=n(130),r=n.n(o),s=n(258),c=(n.n(s),n(259));n.n(c);a.default.use(r.a),a.default.config.productionTip=!1,new a.default({el:"#app",template:"<App/>",components:{App:i.a}})}},[99]);
//# sourceMappingURL=app.87a3b2ae8687ee9ade26.js.map